%% Identification
%% ----------------------------------------------------------------------

% A very recent version of LaTeX is required to ensure that default
% input encoding is utf8. This saves to explicitely require utf8
% encoding and especial handling of some characters:
%
\usepackage[utf8]{inputenc}     % Make csquotes package happy
% \DeclareUnicodeCharacter{00A0}{~}

\NeedsTeXFormat{LaTeX2e}[2018/04/01]
\ProvidesPackage{docs-base}[2018/10/04 v 0.1 Part of docs-bundle]

%% Load packages required by all documents
%% ----------------------------------------------------------------------

\RequirePackage{etoolbox}

\RequirePackage[full]{textcomp}

% Internationalization
\providebool{langES}
\providebool{langEN}

\RequirePackage[spanish, es-noindentfirst, english]{babel}
\AtBeginDocument{\selectlanguage{\ifbool{langES}{spanish}{english}}}
\addto\shorthandsspanish{\spanishdeactivate{"<>}}%
\RequirePackage[english, spanish]{translator}

% Fonts
\RequirePackage[T1]{fontenc}
\RequirePackage{kpfonts}

% Symbols
\RequirePackage{marvosym}
\RequirePackage[nointegrals]{wasysym}

% Quotes
\RequirePackage[autostyle=true,spanish=spanish,english=american]{csquotes}

% Better left justification
\RequirePackage{ragged2e}

% Underlined text
\RequirePackage[normalem]{ulem}

% Graphics
\RequirePackage{graphicx}

% Microtypography
\RequirePackage{microtype}

%% Units
\RequirePackage{siunitx}

\DeclareSIUnit{\@EUR}{\text{\texteuro}}
\DeclareSIUnit{\@UNIT}{\text{u}}

\ifbool{langES}{%
  \sisetup{%
    exponent-product=\ensuremath{times},%
    output-decimal-marker={,},%
    group-digits=integer,%
    group-minimum-digits=4,%
    group-separator=.,%
    per-mode=symbol,%
    inter-unit-product=\,%
  }%
}{%
  \sisetup{%
    exponent-product=\ensuremath{times},%
    output-decimal-marker=.,%
    group-digits=integer,%
    group-minimum-digits=4,%
    group-separator={,},%
    per-mode=symbol,%
    inter-unit-product=\,%
  }
}
\newcommand*{\money}[1]{\SI{#1}{\@EUR}}
\newcommand*{\price}[2][@UNIT]{\SI{#2}{\@EUR\per\csname #1\endcsname}}
\newcommand*{\wage}[2][hour]{\SI{#2}{\@EUR\per\csname #1\endcsname}}
\newcommand*{\units}[2][@UNIT]{\SI{#2}{\csname #1\endcsname}}
\newcommand*{\hours}[1]{\units[hour]{#1}}
